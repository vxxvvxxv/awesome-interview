# Go Senior Interview Questions & Answers

---

## 1. –ö–∞–∫–∏–µ –µ—Å—Ç—å –ø–ª—é—Å—ã –≤ —è–∑—ã–∫–µ Go?

**–ü–ª—é—Å—ã:**
- **–ü—Ä–æ—Å—Ç–æ—Ç–∞** ‚Äî –º–∞–ª–µ–Ω—å–∫–∏–π —è–∑—ã–∫ (~25 –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤), –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å —á—É–∂–æ–π –∫–æ–¥.
- **–ö–æ–º–ø–∏–ª—è—Ü–∏—è** ‚Äî –±—ã—Å—Ç—Ä–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è (—Å–µ–∫—É–Ω–¥—ã –¥–ª—è –∫—Ä—É–ø–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤), —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏.
- **Concurrency** ‚Äî –≥–æ—Ä—É—Ç–∏–Ω—ã + –∫–∞–Ω–∞–ª—ã: –ª–µ–≥–∫–æ –ø–∏—Å–∞—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –∫–æ–¥.
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –±–ª–∏–∑–∫–æ –∫ C/C++ –¥–ª—è –º–Ω–æ–≥–∏—Ö –∑–∞–¥–∞—á. GC –ø–∞—É–∑—ã < 1ms.
- **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞** ‚Äî –æ—Ç–ª–∏—á–Ω–∞—è –¥–ª—è —Å–µ—Ç–∏, HTTP, –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.
- **Tooling** ‚Äî `go fmt`, `go vet`, `go test`, race detector, pprof –∏–∑ –∫–æ—Ä–æ–±–∫–∏.
- **–°–∫–æ—Ä–æ—Å—Ç—å –∫–æ–º–ø–∏–ª—è—Ü–∏–∏** ‚Üí –±—ã—Å—Ç—Ä—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞** ‚Üí –º–∞–ª–µ–Ω—å–∫–∏–µ Docker –æ–±—Ä–∞–∑—ã (FROM scratch).
- **Backward compatibility** ‚Äî –∫–æ–¥ Go 1.0 —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Go 1.26.

**–ú–∏–Ω—É—Å—ã:**
- **Generics** ‚Äî –ø–æ—è–≤–∏–ª–∏—Å—å —Ç–æ–ª—å–∫–æ –≤ 1.18, —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –¥–æ–∑—Ä–µ–≤–∞–µ—Ç.
- **Error handling** ‚Äî `if err != nil` –≤–µ–∑–¥–µ (–Ω–µ—Ç try/catch, –Ω–µ—Ç `?` –∫–∞–∫ –≤ Rust).
- **–ù–µ—Ç pattern matching** ‚Äî –Ω–µ—Ç –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∞—Ü–∏–∏ –∫–∞–∫ –≤ functional languages.
- **GC** ‚Äî –µ—Å—Ç—å –ø–∞—É–∑—ã (—Ö–æ—Ç—å –∏ –º–∞–ª–µ–Ω—å–∫–∏–µ); –¥–ª—è real-time —Å–∏—Å—Ç–µ–º (< 100–º–∫—Å) ‚Äî –ø—Ä–æ–±–ª–µ–º–∞.
- **–ù–µ—Ç –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è** ‚Äî —Ç–æ–ª—å–∫–æ composition (embeds + interfaces).
- **–°–ª–∞–±–æ–µ –º–µ—Ç–∞–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Äî reflect –º–µ–¥–ª–µ–Ω–Ω—ã–π –∏ –Ω–µ—É–¥–æ–±–Ω—ã–π.
- **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ enum** ‚Äî –Ω–µ—Ç –Ω–∞—Å—Ç–æ—è—â–∏—Ö –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–π (–∏–Ω–æ–≥–¥–∞ –ª–æ–≤—è—Ç bagels: iota, –Ω–æ –Ω–µ—Ç exhaustive switch).

---

## 2. Go –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –∏–ª–∏ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π? –í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞?

**Go ‚Äî –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π** —è–∑—ã–∫.

**–ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π** ‚Äî –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–ö–ê–ö** —Å–¥–µ–ª–∞—Ç—å: —à–∞–≥–∏, —Ü–∏–∫–ª—ã, —É—Å–ª–æ–≤–∏—è, —è–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è:

```go
// –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ: —è–≤–Ω–æ –≥–æ–≤–æ—Ä–∏–º –∫–∞–∫
sum := 0
for _, v := range nums {
    if v > 0 {
        sum += v
    }
}
```

**–î–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π** ‚Äî –æ–ø–∏—Å—ã–≤–∞–µ—Ç **–ß–¢–û** –Ω—É–∂–Ω–æ, –Ω–µ –∫–∞–∫:

```sql
-- SQL –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π
SELECT SUM(value) FROM nums WHERE value > 0

-- CSS –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π
button { color: red; }

-- HTML –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π
<h1>Hello</h1>
```

–í Go –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –≤ –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –Ω–æ —è–∑—ã–∫ –ø–æ –ø—Ä–∏—Ä–æ–¥–µ –∏–º–ø–µ—Ä–∞—Ç–∏–≤–µ–Ω.

---

## 3. –ß—Ç–æ —Ç–∞–∫–æ–µ defer –∏ –∑–∞—á–µ–º –Ω—É–∂–µ–Ω?

**defer** ‚Äî –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ –≤—ã—Ö–æ–¥–∞ –∏–∑ —Ç–µ–∫—É—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ (–≤–æ–∑–≤—Ä–∞—Ç–∞ –∏–ª–∏ –ø–∞–Ω–∏–∫–∏).

**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:**
- –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (close, unlock).
- –ì–∞—Ä–∞–Ω—Ç–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è cleanup.
- Recover –ø–æ—Å–ª–µ –ø–∞–Ω–∏–∫–∏.

```go
func readFile(path string) ([]byte, error) {
    f, err := os.Open(path)
    if err != nil {
        return nil, err
    }
    defer f.Close() // –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º return

    return io.ReadAll(f)
}
```

### –ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è: –¥–æ –∏–ª–∏ –ø–æ—Å–ª–µ return?

**–ü–æ—Å–ª–µ** –æ—Ü–µ–Ω–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–æ **–¥–æ** —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤—ã–∑—ã–≤–∞—é—â–µ–º—É –∫–æ–¥—É:

```go
func example() int {
    x := 0
    defer func() {
        x = 1 // –∏–∑–º–µ–Ω—è–µ—Ç x, –Ω–æ –ù–ï –≤–ª–∏—è–µ—Ç –Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
        fmt.Println("defer x:", x) // –≤—ã–≤–µ–¥–µ—Ç 1
    }()
    return x // –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 0
}
// output: "defer x: 1", –≤–æ–∑–≤—Ä–∞—Ç = 0

// –ù–û: —Å –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–º–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ ‚Äî –≤–ª–∏—è–µ—Ç!
func example2() (result int) {
    defer func() {
        result = 1 // –ò–ó–ú–ï–ù–Ø–ï–¢ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
    }()
    return 0 // result = 0, –∑–∞—Ç–µ–º defer ‚Üí result = 1, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 1
}
```

### –ö–∞–∫ defer —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏?

–ê—Ä–≥—É–º–µ–Ω—Ç—ã –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è **–≤ –º–æ–º–µ–Ω—Ç –≤—ã–∑–æ–≤–∞ defer** (–Ω–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏):

```go
func example() {
    x := 0
    defer fmt.Println(x) // –∞—Ä–≥—É–º–µ–Ω—Ç x=0 –≤—ã—á–∏—Å–ª–µ–Ω –°–ï–ô–ß–ê–°
    x = 1
    // defer –≤—ã–≤–µ–¥–µ—Ç 0 (–∑–Ω–∞—á–µ–Ω–∏–µ x –Ω–∞ –º–æ–º–µ–Ω—Ç defer)
}

// –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∑–∞—Ö–≤–∞—Ç–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ ‚Äî –∑–∞–º—ã–∫–∞–Ω–∏–µ:
func example2() {
    x := 0
    defer func() {
        fmt.Println(x) // x —á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ defer ‚Üí –≤—ã–≤–µ–¥–µ—Ç 1
    }()
    x = 1
}
```

### Stack of defers

–ù–µ—Å–∫–æ–ª—å–∫–æ defer –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ LIFO (–ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ—à—ë–ª ‚Äî –ø–µ—Ä–≤—ã–π –≤—ã—à–µ–ª):

```go
defer fmt.Println("first")  // –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–º
defer fmt.Println("second") // –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –≤—Ç–æ—Ä—ã–º
defer fmt.Println("third")  // –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è –ø–µ—Ä–≤—ã–º
// Output: third, second, first
```

---

## 4. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å—Ç—Ä–æ–∫–∞ –≤ Go?

```go
// –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (runtime/string.go):
type stringHeader struct {
    Data unsafe.Pointer // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –±–∞–π—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
    Len  int            // –¥–ª–∏–Ω–∞ –≤ –±–∞–π—Ç–∞—Ö (–Ω–µ —Å–∏–º–≤–æ–ª–∞—Ö!)
}
```

**–°—Ç—Ä–æ–∫–∞ = –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–π —Å—Ä–µ–∑ –±–∞–π—Ç** (UTF-8). –î–≤–∞ –ø–æ–ª—è: —É–∫–∞–∑–∞—Ç–µ–ª—å + –¥–ª–∏–Ω–∞.

### –ò–º–º—É—Ç–∞–±–µ–ª—å–Ω—ã –ª–∏ —Å—Ç—Ä–æ–∫–∏?

**–î–∞.** –°—Ç—Ä–æ–∫–∏ –≤ Go –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã ‚Äî –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–∞–π—Ç:

```go
s := "hello"
// s[0] = 'H' // –û–®–ò–ë–ö–ê: cannot assign to s[0]
```

### –ö–∞–∫ –∏–∑–º–µ–Ω–∏—Ç—å —Å–∏–º–≤–æ–ª –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫–∏?

```go
// –°–ø–æ—Å–æ–± 1: —á–µ—Ä–µ–∑ []byte
s := "hello"
b := []byte(s) // –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
b[0] = 'H'
s = string(b)  // –∫–æ–ø–∏—Ä—É–µ—Ç –æ–±—Ä–∞—Ç–Ω–æ
fmt.Println(s) // "Hello"

// –°–ø–æ—Å–æ–± 2: —á–µ—Ä–µ–∑ []rune (–¥–ª—è Unicode —Å–∏–º–≤–æ–ª–æ–≤)
s := "–ø—Ä–∏–≤–µ—Ç"
r := []rune(s)
r[0] = '–ü'
s = string(r)
fmt.Println(s) // "–ü—Ä–∏–≤–µ—Ç"

// –ö–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è ‚Äî strings.Builder (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ)
var sb strings.Builder
sb.WriteString("hello ")
sb.WriteString("world")
result := sb.String()
```

---

## 5. –ß—Ç–æ —Ç–∞–∫–æ–µ rune –∏ –∑–∞—á–µ–º –æ–Ω–∞ –Ω—É–∂–Ω–∞?

**rune** ‚Äî –ø—Å–µ–≤–¥–æ–Ω–∏–º –¥–ª—è `int32`. –ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç Unicode code point.

**–ü—Ä–æ–±–ª–µ–º–∞:**

```go
s := "–ø—Ä–∏–≤–µ—Ç" // –∫–∏—Ä–∏–ª–ª–∏—Ü–∞: –∫–∞–∂–¥–∞—è –±—É–∫–≤–∞ = 2 –±–∞–π—Ç–∞ –≤ UTF-8
fmt.Println(len(s))        // 12 (–±–∞–π—Ç), –Ω–µ 6!
fmt.Println(s[0])          // 208 (–ø–µ—Ä–≤—ã–π –±–∞–π—Ç '–ø', –Ω–µ —Å–∏–º–≤–æ–ª!)
```

**–†–µ—à–µ–Ω–∏–µ ‚Äî rune:**

```go
// –ò—Ç–µ—Ä–∞—Ü–∏—è –ø–æ —Å–∏–º–≤–æ–ª–∞–º (Unicode)
for i, r := range s {
    fmt.Printf("index=%d, rune=%c, value=%d\n", i, r, r)
}

// –î–ª–∏–Ω–∞ –≤ —Å–∏–º–≤–æ–ª–∞—Ö
fmt.Println(len([]rune(s))) // 6 ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω–æ

// –î–æ—Å—Ç—É–ø –∫ —Å–∏–º–≤–æ–ª—É
r := []rune(s)[0] // '–ø'
```

```
ASCII —Å–∏–º–≤–æ–ª:  1 –±–∞–π—Ç = 1 rune
Latin Extended: 2 –±–∞–π—Ç–∞ = 1 rune
–ö–∏—Ä–∏–ª–ª–∏—Ü–∞:    2 –±–∞–π—Ç–∞ = 1 rune
Emoji (üòÄ):   4 –±–∞–π—Ç–∞ = 1 rune
```

---

## 6. –ö–∞–∫ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫?

```go
// –ü–ª–æ—Ö–æ: –∫–∞–∂–¥–∞—è –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É (O(n¬≤))
result := ""
for i := 0; i < 1000; i++ {
    result += "x" // –≤—ã–¥–µ–ª—è–µ—Ç –Ω–æ–≤—É—é —Å—Ç—Ä–æ–∫—É –∫–∞–∂–¥—ã–π —Ä–∞–∑!
}

// –•–æ—Ä–æ—à–æ: strings.Builder (amortized O(1))
var sb strings.Builder
sb.Grow(1000) // –ø—Ä–µ–¥–≤—ã–¥–µ–ª–∏—Ç—å –±—É—Ñ–µ—Ä
for i := 0; i < 1000; i++ {
    sb.WriteByte('x')
}
result := sb.String()

// fmt.Sprintf ‚Äî –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
s := fmt.Sprintf("Hello, %s! Age: %d", name, age)

// strings.Join ‚Äî –¥–ª—è —Å–ª–∞–π—Å–∞ —Å—Ç—Ä–æ–∫
parts := []string{"a", "b", "c"}
result := strings.Join(parts, ", ") // "a, b, c"

// + ‚Äî –ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è 2-3 —Å—Ç—Ä–æ–∫
s := "Hello, " + name + "!"
```

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**

| –ú–µ—Ç–æ–¥ | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ö–æ–≥–¥–∞ |
|-------|-----------|-------|
| `+` | O(n¬≤) | 2-3 —Å—Ç—Ä–æ–∫–∏ |
| `strings.Builder` | O(n) –∞–º–æ—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ | –ú–Ω–æ–≥–æ —Å—Ç—Ä–æ–∫ –≤ —Ü–∏–∫–ª–µ |
| `strings.Join` | O(n) | –°–ª–∞–π—Å —Å—Ç—Ä–æ–∫ |
| `fmt.Sprintf` | O(n) + reflection | –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `bytes.Buffer` | O(n) | –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç–µ —Å []byte |

---

## 7. –ß—Ç–æ —Ç–∞–∫–æ–µ interface –≤ Go?

```go
type Animal interface {
    Sound() string
    Move()
}
```

**Interface = –Ω–∞–±–æ—Ä —Å–∏–≥–Ω–∞—Ç—É—Ä –º–µ—Ç–æ–¥–æ–≤.** –†–µ–∞–ª–∏–∑—É–µ—Ç—Å—è **–Ω–µ—è–≤–Ω–æ** (duck typing ‚Äî –Ω–µ—Ç `implements`).

```go
type Dog struct{}
func (d Dog) Sound() string { return "woof" }
func (d Dog) Move() { /* ... */ }

var a Animal = Dog{} // Dog —Ä–µ–∞–ª–∏–∑—É–µ—Ç Animal –Ω–µ—è–≤–Ω–æ
```

**–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ** (–¥–≤–∞ —Å–ª–æ–≤–∞):

```
interface{ type *Dog | value Dog }
  ‚Üì             ‚Üì
itab          data pointer
(–º–µ—Ç–æ–¥—ã)      (–¥–∞–Ω–Ω—ã–µ)
```

```go
// –ü—É—Å—Ç–æ–π interface (any = interface{})
var x any = 42
x = "hello"
x = Dog{}

// Type assertion
v, ok := x.(Dog) // ok = true –µ—Å–ª–∏ —Ç–∏–ø —Å–æ–≤–ø–∞–ª

// Type switch
switch v := x.(type) {
case int:    fmt.Println("int:", v)
case string: fmt.Println("string:", v)
case Dog:    v.Move()
}
```

---

## 8. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç GMP scheduler?

```
G (goroutine) ‚Äî –µ–¥–∏–Ω–∏—Ü–∞ —Ä–∞–±–æ—Ç—ã (2 –ö–ë —Å—Ç–µ–∫)
M (machine)   ‚Äî OS thread (kernel thread)
P (processor) ‚Äî –ª–æ–≥–∏—á–µ—Å–∫–∏–π CPU, –æ—á–µ—Ä–µ–¥—å G (GOMAXPROCS —à—Ç—É–∫)

–ü—Ä–∞–≤–∏–ª–æ: G —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∑–∞—Ö–≤–∞—á–µ–Ω P
M –±–µ—Ä—ë—Ç G –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –æ—á–µ—Ä–µ–¥–∏ P (–∏–ª–∏ –≥–ª–æ–±–∞–ª—å–Ω–æ–π, –∏–ª–∏ —É –¥—Ä—É–≥–æ–≥–æ P ‚Äî work stealing)
```

**–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≥–æ—Ä—É—Ç–∏–Ω:**
- Cooperative: –≤—ã–∑–æ–≤ `runtime.Gosched()`, channel ops, syscall, function call (stack growth).
- Preemptive (Go 1.14+): SIGURG —Å–∏–≥–Ω–∞–ª –∫–∞–∂–¥—ã–µ 10ms.

**–ü—Ä–∏ syscall:** M –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è ‚Üí P –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –¥—Ä—É–≥–æ–º—É M ‚Üí –Ω–µ—Ç starvation.

---

## 9. –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç (context)?

```go
// context.Context ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–¥–∞—á–∏:
// - –æ—Ç–º–µ–Ω—ã (cancellation)
// - —Ç–∞–π–º–∞—É—Ç–æ–≤/–¥–µ–¥–ª–∞–π–Ω–æ–≤
// - –∑–Ω–∞—á–µ–Ω–∏–π (request-scoped)

// –°–æ–∑–¥–∞–Ω–∏–µ:
ctx, cancel := context.WithCancel(context.Background())
defer cancel()

ctx, cancel := context.WithTimeout(ctx, 5*time.Second)
defer cancel()

ctx, cancel := context.WithDeadline(ctx, time.Now().Add(5*time.Second))
defer cancel()

// –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–º–µ–Ω—ã:
select {
case <-ctx.Done():
    return ctx.Err() // context.Canceled –∏–ª–∏ context.DeadlineExceeded
default:
    // –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
}

// –ü–µ—Ä–µ–¥–∞—á–∞ –∑–Ω–∞—á–µ–Ω–∏–π (—Ç–æ–ª—å–∫–æ –¥–ª—è request-scoped –¥–∞–Ω–Ω—ã—Ö):
ctx = context.WithValue(ctx, traceIDKey, "abc-123")
traceID := ctx.Value(traceIDKey).(string)
```

**–ü—Ä–∞–≤–∏–ª–æ:** context –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º —Ñ—É–Ω–∫—Ü–∏–∏.

---

## 10. –ß—Ç–æ —Ç–∞–∫–æ–µ goroutine leak?

–ì–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–ø—É—â–µ–Ω–∞, –Ω–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è ‚Äî —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏.

```go
// –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π leak: —á–∏—Ç–∞–µ–º –∏–∑ –∫–∞–Ω–∞–ª–∞, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫—Ç–æ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø–∏—à–µ—Ç
func leak() {
    ch := make(chan int)
    go func() {
        v := <-ch // –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞–≤—Å–µ–≥–¥–∞!
        fmt.Println(v)
    }()
    // ch –Ω–∏–∫—Ç–æ –Ω–µ –ø–∏—à–µ—Ç, –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–≤–∏—Å–∞–µ—Ç
}

// –†–µ—à–µ–Ω–∏–µ: context + cancel
func noLeak(ctx context.Context) {
    ch := make(chan int)
    go func() {
        select {
        case v := <-ch:
            fmt.Println(v)
        case <-ctx.Done():
            return // –≥–æ—Ä—É—Ç–∏–Ω–∞ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è
        }
    }()
}
```

**–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ:**
```go
// –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Ä—É—Ç–∏–Ω
import _ "net/http/pprof"
// GET /debug/pprof/goroutine?debug=2

// goleak (—Ç–µ—Å—Ç)
import "go.uber.org/goleak"
func TestMain(m *testing.M) {
    goleak.VerifyTestMain(m)
}

// Go 1.26: –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π goroutine leak profiler
// GOTRACE=goroutine-leak ./myapp
```

---

## 11. –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–ª–∞–π—Å –∏ –∫–∞–∫ –æ–Ω —É—Å—Ç—Ä–æ–µ–Ω?

```go
// –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:
type sliceHeader struct {
    Data unsafe.Pointer // —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ backing array
    Len  int            // –¥–ª–∏–Ω–∞ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤)
    Cap  int            // —ë–º–∫–æ—Å—Ç—å (–æ—Ç Data –¥–æ –∫–æ–Ω—Ü–∞ backing array)
}
```

```go
s := make([]int, 3, 5)
// Data ‚Üí [0, 0, 0, _, _]
//         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îò
//           Len=3  Cap-Len=2

// append: –µ—Å–ª–∏ len < cap ‚Üí –¥–æ–±–∞–≤–∏—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –º–∞—Å—Å–∏–≤
s = append(s, 4) // len=4, cap=5, —Ç–æ—Ç –∂–µ backing array!

// append: –µ—Å–ª–∏ len == cap ‚Üí allocate new, copy
s = append(s, 5, 6) // len=6, cap=10 (—É–¥–≤–æ–∏–ª—Å—è), –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤
```

**Op–∞—Å–Ω–æ—Å—Ç—å:** –¥–≤–∞ —Å–ª–∞–π—Å–∞ –º–æ–≥—É—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –æ–¥–∏–Ω backing array:

```go
a := []int{1, 2, 3, 4, 5}
b := a[:3] // len=3, cap=5, —Ç–æ—Ç –∂–µ –º–∞—Å—Å–∏–≤!
b[0] = 99  // –∏–∑–º–µ–Ω–∏—Ç –∏ a[0]!

// –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –∏–∑–±–µ–∂–∞–Ω–∏–µ:
c := make([]int, 3)
copy(c, a[:3])
```

---

## 12. –ß—Ç–æ —Ç–∞–∫–æ–µ map –≤ Go? –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç?

```go
// Map = —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞
m := make(map[string]int)
m["key"] = 42
v, ok := m["key"] // ok = false –µ—Å–ª–∏ –Ω–µ—Ç –∫–ª—é—á–∞
delete(m, "key")
```

**Go 1.24+ Swiss Tables:** —Ç–∞–±–ª–∏—Ü–∞ —Ä–∞–∑–±–∏—Ç–∞ –Ω–∞ 64-bit control word (h2 —Ö–µ—à–µ–π), SIMD –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –ø–æ–∏—Å–∫, 87.5% load factor, ~60% –±—ã—Å—Ç—Ä–µ–µ.

**–û–ø–∞—Å–Ω–æ—Å—Ç–∏:**
```go
// Map –Ω–µ thread-safe! Race condition:
go func() { m["a"] = 1 }()
go func() { m["b"] = 2 }() // panic: concurrent map writes

// –†–µ—à–µ–Ω–∏–µ: sync.Map –∏–ª–∏ sync.Mutex
var mu sync.Mutex
mu.Lock()
m["key"] = val
mu.Unlock()
```

---

## 13. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ panic –∏ recover

```go
// panic ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞, —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç —Å—Ç–µ–∫
func divide(a, b int) int {
    if b == 0 {
        panic("division by zero")
    }
    return a / b
}

// recover ‚Äî –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç—å –ø–∞–Ω–∏–∫—É (—Ç–æ–ª—å–∫–æ –≤ defer!)
func safeDiv(a, b int) (result int, err error) {
    defer func() {
        if r := recover(); r != nil {
            err = fmt.Errorf("recovered: %v", r)
        }
    }()
    return divide(a, b), nil
}

// Middleware —Å recover (—Ç–∏–ø–∏—á–Ω–æ –¥–ª—è HTTP —Å–µ—Ä–≤–µ—Ä–æ–≤)
func recoveryMiddleware(next http.Handler) http.Handler {
    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
        defer func() {
            if err := recover(); err != nil {
                log.Printf("panic: %v\n%s", err, debug.Stack())
                http.Error(w, "Internal Server Error", 500)
            }
        }()
        next.ServeHTTP(w, r)
    })
}
```

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å panic:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ).
- –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–µ –æ—à–∏–±–∫–∏ (–Ω–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ).
- –ù–∏–∫–æ–≥–¥–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ—á–Ω–æ–º –∫–æ–¥–µ –±–µ–∑ recover.

---

## 14. Channels: buffered vs unbuffered

```go
// Unbuffered: —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ (sender –∂–¥—ë—Ç receiver)
ch := make(chan int)
go func() { ch <- 42 }() // –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è
v := <-ch

// Buffered: –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è (–¥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è –±—É—Ñ–µ—Ä–∞)
ch := make(chan int, 3)
ch <- 1 // –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (–±—É—Ñ–µ—Ä 1/3)
ch <- 2 // –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (–±—É—Ñ–µ—Ä 2/3)
ch <- 3 // –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è (–±—É—Ñ–µ—Ä 3/3)
ch <- 4 // –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø (–±—É—Ñ–µ—Ä –ø–æ–ª–æ–Ω)

// –ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª–∞
close(ch)
v, ok := <-ch // ok=false –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç –∏ –ø—É—Å—Ç

// for-range –ø–æ –∫–∞–Ω–∞–ª—É (–¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è)
for v := range ch {
    fmt.Println(v)
}
```

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
```go
// Done channel (—Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)
done := make(chan struct{})
go func() {
    defer close(done)
    // —Ä–∞–±–æ—Ç–∞...
}()
<-done // –∂–¥—ë–º

// Fan-out: –æ–¥–∏–Ω –∏—Å—Ç–æ—á–Ω–∏–∫ ‚Üí –º–Ω–æ–≥–æ consumer
func fanOut(src <-chan int, n int) []<-chan int {
    channels := make([]<-chan int, n)
    for i := 0; i < n; i++ {
        ch := make(chan int)
        channels[i] = ch
        go func(out chan<- int) {
            for v := range src {
                out <- v
            }
            close(out)
        }(ch)
    }
    return channels
}
```

---

## 15. –ß—Ç–æ —Ç–∞–∫–æ–µ generics –≤ Go (1.18+)?

```go
// –û–±–æ–±—â—ë–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è
func Map[T, U any](s []T, f func(T) U) []U {
    result := make([]U, len(s))
    for i, v := range s {
        result[i] = f(v)
    }
    return result
}

doubled := Map([]int{1, 2, 3}, func(x int) int { return x * 2 })

// Type constraints
type Number interface {
    ~int | ~int32 | ~int64 | ~float32 | ~float64
}

func Sum[T Number](nums []T) T {
    var total T
    for _, n := range nums {
        total += n
    }
    return total
}

// –û–±–æ–±—â—ë–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
type Stack[T any] struct {
    items []T
}

func (s *Stack[T]) Push(item T) {
    s.items = append(s.items, item)
}

func (s *Stack[T]) Pop() (T, bool) {
    if len(s.items) == 0 {
        var zero T
        return zero, false
    }
    item := s.items[len(s.items)-1]
    s.items = s.items[:len(s.items)-1]
    return item, true
}
```

---

## 16. sync/atomic ‚Äî –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å?

```go
import "sync/atomic"

// –ê—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –±–µ–∑ –º—å—é—Ç–µ–∫—Å–∞ (–¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å—á—ë—Ç—á–∏–∫–æ–≤)
var counter atomic.Int64

counter.Add(1)
counter.Store(0)
val := counter.Load()
counter.CompareAndSwap(0, 1) // CAS

// –ê—Ç–æ–º–∞—Ä–Ω—ã–π —É–∫–∞–∑–∞—Ç–µ–ª—å (Go 1.19+)
var p atomic.Pointer[Config]
p.Store(&Config{...})
cfg := p.Load() // thread-safe —á—Ç–µ–Ω–∏–µ

// –ö–æ–≥–¥–∞ atomic vs mutex:
// atomic: –ø—Ä–æ—Å—Ç—ã–µ —á–∏—Å–ª–∞, —É–∫–∞–∑–∞—Ç–µ–ª–∏, —Ñ–ª–∞–≥–∏
// mutex: –∑–∞—â–∏—Ç–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö, –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–ª–µ–π –≤–º–µ—Å—Ç–µ
```

---

## 17. –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç GC –≤ Go? (–∫—Ä–∞—Ç–∫–æ)

**Tri-color mark-and-sweep —Å concurrent marking:**

1. **Mark phase** ‚Äî GC –ø–æ–º–µ—á–∞–µ—Ç –∂–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã (tri-color: –±–µ–ª—ã–π/—Å–µ—Ä—ã–π/—á—ë—Ä–Ω—ã–π).
2. **Sweep phase** ‚Äî –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç –ø–∞–º—è—Ç—å –±–µ–ª—ã—Ö (–Ω–µ–¥–æ—Å—Ç–∏–∂–∏–º—ã—Ö) –æ–±—ä–µ–∫—Ç–æ–≤.
3. **Concurrent** ‚Äî –±–æ–ª—å—à—É—é —á–∞—Å—Ç—å GC —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.
4. **STW (stop-the-world)** ‚Äî —Ç–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏–µ –ø–∞—É–∑—ã (< 1 ms) –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏.

**Go 1.26 Green Tea GC:**
- Span-based scanning (8 –ö–ë spans).
- Hit flag –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ø—Ä–æ–ø—É—Å–∫ —á–∏—Å—Ç—ã—Ö spans).
- SIMD/AVX-512 –¥–ª—è —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- –°–Ω–∏–∂–µ–Ω–∏–µ GC overhead –Ω–∞ 10-50%.

---

## 18. –ß—Ç–æ —Ç–∞–∫–æ–µ escape analysis?

–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä —Ä–µ—à–∞–µ—Ç, –≥–¥–µ –∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é: –Ω–∞ —Å—Ç–µ–∫–µ –∏–ª–∏ –∫—É—á–µ.

```go
// –ù–∞ —Å—Ç–µ–∫–µ (–±—ã—Å—Ç—Ä–æ): –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ "—É–±–µ–≥–∞–µ—Ç" –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏
func noEscape() int {
    x := 42 // –Ω–∞ —Å—Ç–µ–∫–µ
    return x
}

// –ù–∞ –∫—É—á–µ (GC –¥–∞–≤–ª–µ–Ω–∏–µ): –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è "—É–±–µ–≥–∞–µ—Ç"
func escape() *int {
    x := 42 // –Ω–∞ –∫—É—á–µ! (—É–∫–∞–∑–∞—Ç–µ–ª—å —É—Ö–æ–¥–∏—Ç –Ω–∞—Ä—É–∂—É)
    return &x
}

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
// go build -gcflags="-m" main.go
// go build -gcflags="-m=2" main.go  (–ø–æ–¥—Ä–æ–±–Ω–µ–µ)
```

**–ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã escape:**
- –í–æ–∑–≤—Ä–∞—Ç —É–∫–∞–∑–∞—Ç–µ–ª—è.
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ interface{} (boxing).
- –ó–∞–º—ã–∫–∞–Ω–∏—è.
- –°–ª–∞–π—Å—ã –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏–∏.
